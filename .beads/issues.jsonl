{"id":"openjscad-worker-9w5","title":"MVP: text-to-3D OpenJSCAD model generator (preview + export + download)","description":"Build an MVP where a user describes an object, an LLM produces OpenJSCAD code, the model is previewed in-browser, exports are generated, and files can be downloaded.","acceptance_criteria":"User can go from text prompt -\u003e JSCAD -\u003e 3D preview -\u003e export -\u003e download end-to-end.","status":"closed","priority":1,"issue_type":"epic","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:46.953513-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:53:55.843609-05:00","closed_at":"2026-01-16T10:53:55.843609-05:00","close_reason":"Closed","labels":["jscad","mvp","product"]}
{"id":"openjscad-worker-9w5.1","title":"Define MVP UX + data contract (prompt -\u003e JSCAD -\u003e model)","description":"## Contract (MVP)\n\n### Recipe (safe JSON, no eval)\nThe system accepts a **JSCAD shape recipe** (JSON) which is validated server-side.\n\nTop-level:\n- **version**: `1`\n- **units**: `mm | cm | m` (currently informational)\n- **name**: optional string (used for filenames)\n- **root**: a recursive node\n\nSupported node types (v1):\n- **cuboid**: `{ type: 'cuboid', size: [x,y,z], center?: [x,y,z] }`\n- **sphere**: `{ type: 'sphere', radius, center?: [x,y,z], segments?: int }`\n- **cylinder**: `{ type: 'cylinder', height, radius, center?: [x,y,z], segments?: int }`\n- **translate**: `{ type: 'translate', offset: [x,y,z], child }`\n- **rotate**: `{ type: 'rotate', angles: [xDeg,yDeg,zDeg], child }`\n- **scale**: `{ type: 'scale', factors: [x,y,z], child }`\n- **union | subtract | intersect**: `{ type, children: [child1, ...] }`\n\nHard limits:\n- **max node count**: 500\n\n### Export API\n- `POST /api/jscad/export` with body `{ recipe, format: 'stl'|'obj' }`.\n- Returns **binary** response with `Content-Type` and `Content-Disposition`.\n- Adds `X-JSCAD-Node-Count` and `X-JSCAD-Bounding-Box` headers.\n\n### MCP tool\n- `jscad_export` with inputs `{ recipe, format }`.\n- Returns JSON text containing base64 bytes + metadata.\n\n### Example\n\n```json\n{\n  \"version\": 1,\n  \"units\": \"mm\",\n  \"name\": \"demo_bracket\",\n  \"root\": {\n    \"type\": \"union\",\n    \"children\": [\n      { \"type\": \"cuboid\", \"size\": [80, 20, 10], \"center\": [0, 0, 0] },\n      {\n        \"type\": \"translate\",\n        \"offset\": [0, 0, 10],\n        \"child\": { \"type\": \"cylinder\", \"height\": 20, \"radius\": 8, \"center\": [0, 0, 0] }\n      }\n    ]\n  }\n}\n```\n","acceptance_criteria":"Documented contract + one example prompt with expected JSCAD output + failure cases.","status":"closed","priority":1,"issue_type":"task","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.088456-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:49:41.439327-05:00","closed_at":"2026-01-16T10:49:41.439327-05:00","close_reason":"Closed","labels":["mvp","product","spec"],"dependencies":[{"issue_id":"openjscad-worker-9w5.1","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.089237-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.2","title":"Server: execute OpenJSCAD safely and return preview geometry","description":"Implemented as a safe JSON recipe runner (no JS eval) exposed via  (POST) and used by the UI preview.","acceptance_criteria":"Given a valid recipe,  returns a model (STL/OBJ). Invalid input returns a structured JSON error. Execution is bounded via node-count limits.","status":"closed","priority":1,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.213862-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.520314-05:00","closed_at":"2026-01-16T10:50:42.520314-05:00","close_reason":"Closed","labels":["backend","jscad","mvp"],"dependencies":[{"issue_id":"openjscad-worker-9w5.2","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.214591-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.3","title":"Backend: export pipeline (STL, OBJ, GLB)","description":"Implemented STL + OBJ export using  serializers. Preview uses STL.","acceptance_criteria":"For a sample model, STL and OBJ exports are generated and load in common viewers (e.g., Three.js STLLoader / OBJ importers).","status":"closed","priority":1,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.356628-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.621144-05:00","closed_at":"2026-01-16T10:50:42.621144-05:00","close_reason":"Closed","labels":["backend","export","mvp"],"dependencies":[{"issue_id":"openjscad-worker-9w5.3","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.357392-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.4","title":"Tools: add MCP tools for model generation/render/export","description":"Added MCP tool  which accepts  and returns base64 file bytes + metadata.","acceptance_criteria":"From an MCP client, calling  returns a valid STL/OBJ payload that can be decoded and saved.","status":"closed","priority":1,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.475797-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.708745-05:00","closed_at":"2026-01-16T10:50:42.708745-05:00","close_reason":"Closed","labels":["mcp","mvp","tools"],"dependencies":[{"issue_id":"openjscad-worker-9w5.4","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.476495-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.5","title":"Frontend: prompt input + show generated JSCAD","description":"Implemented a simple homepage UI to edit/paste a recipe and see its JSON 'source' before rendering.","acceptance_criteria":"User can input/edit the recipe JSON, see it in the UI, and trigger a preview render.","status":"closed","priority":2,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.614733-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.810762-05:00","closed_at":"2026-01-16T10:50:42.810762-05:00","close_reason":"Closed","labels":["frontend","mvp","ux"],"dependencies":[{"issue_id":"openjscad-worker-9w5.5","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.615414-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.6","title":"Frontend: 3D preview viewer","description":"Added a Three.js viewer with orbit controls that previews the exported STL.","acceptance_criteria":"Model displays; user can rotate/zoom; errors are surfaced in the UI.","status":"closed","priority":2,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.736478-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.912607-05:00","closed_at":"2026-01-16T10:50:42.912607-05:00","close_reason":"Closed","labels":["3d","frontend","mvp"],"dependencies":[{"issue_id":"openjscad-worker-9w5.6","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.737163-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.7","title":"Download UX: export selection + download files","description":"Added buttons to export and download STL/OBJ with correct filename headers.","acceptance_criteria":"User can download STL and OBJ from the UI.","status":"closed","priority":2,"issue_type":"feature","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:47.883313-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:50:42.997201-05:00","closed_at":"2026-01-16T10:50:42.997201-05:00","close_reason":"Closed","labels":["download","frontend","mvp"],"dependencies":[{"issue_id":"openjscad-worker-9w5.7","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:47.88419-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.8","title":"Persistence: store models per authenticated user","description":"Implemented persistence for authenticated MCP users via KV:\n\n- MCP tool `jscad_save_recipe` saves a validated recipe under a per-user key and maintains a small index.\n- MCP tool `jscad_list_recipes` lists saved recipe entries for the current user.\n- MCP tool `jscad_load_recipe` loads a recipe by id for the current user.\n\nNotes:\n- Storage uses the existing `OAUTH_KV` binding (MVP). Items expire after 30 days.\n- Identity is taken from `agent.props.userEmail` (set during OAuth login).\n","acceptance_criteria":"After refresh, the most recent model can be reloaded; old entries expire.","status":"closed","priority":3,"issue_type":"task","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:10:48.003955-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:53:48.139751-05:00","closed_at":"2026-01-16T10:53:48.139751-05:00","close_reason":"Closed","labels":["backend","mvp","persistence"],"dependencies":[{"issue_id":"openjscad-worker-9w5.8","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:10:48.004648-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-9w5.9","title":"LLM prompt template: description -\u003e shape recipe JSON","description":"Provide a system prompt + few-shot examples so an LLM can reliably produce the safe recipe JSON (v1) from a user description, including constraints (units, node limit, supported primitives/transforms/booleans).","acceptance_criteria":"Docs include at least 3 example prompts with expected recipe outputs and guidance for iterating when preview looks wrong.","status":"closed","priority":2,"issue_type":"task","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T10:51:07.113209-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T10:51:52.478123-05:00","closed_at":"2026-01-16T10:51:52.478123-05:00","close_reason":"Closed","labels":["docs","llm","mvp"],"dependencies":[{"issue_id":"openjscad-worker-9w5.9","depends_on_id":"openjscad-worker-9w5","type":"parent-child","created_at":"2026-01-16T10:51:07.113979-05:00","created_by":"Jonathan Molinatto"}]}
{"id":"openjscad-worker-cjm","title":"Security: resolve remaining npm audit advisories (ai/jsondiffpatch)","description":"npm audit still reports moderate advisories via transitive deps of @stripe/agent-toolkit/agents (ai -\u003e jsondiffpatch). No upstream fix available per audit output.\n\nFollow-up:\n- Confirm whether vulnerable code paths are reachable in this worker (likely not: file uploads / HtmlFormatter not used).\n- Track upstream fixes in agents/ai/jsondiffpatch.\n- Consider pinning/overriding if a patched jsondiffpatch release becomes available, or replacing dependency chain if needed.\n","acceptance_criteria":"Document impact assessment (reachable vs not) and either: (a) upgrade to fixed versions when available or (b) add mitigations + risk acceptance notes in README.","status":"open","priority":2,"issue_type":"task","owner":"jonathan.molinatto@gmail.com","created_at":"2026-01-16T11:12:17.702684-05:00","created_by":"Jonathan Molinatto","updated_at":"2026-01-16T11:12:17.702684-05:00","labels":["dependencies","security"]}
